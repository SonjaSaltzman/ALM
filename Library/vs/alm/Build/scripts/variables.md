toc: show
Parent: ./index.md
Title: Predefined variables
ms.ContentId: 3A1C529F-DF6B-470A-9047-2758644C3D95

# Predefined variables

Team Build provides a number predefined variables that can be used in configuring your build definition or in your build scripts.

There are a number of scopes where the variables are defined:
* System Variables - These are generated by the server and the agent and are the same name and concept but potentially different values depending on the host type for the agent.  For example in Build the `System.DefaultWorkingDirectory` is the same as `Build.SourcesDirectory`. In release management it will be the `Release.ArtifactsDirectory`.
* Global Build Variables - These are generated by TFBuild on the server side and are sent to the agent as part of the build job.  An example this variable would be `Build.BuildNumber`
	* In addition tasks or build scripts can contribute to this collection of variables and they will be available both in the context and in the environment for downstream tasks.
* Agent Build Variables - These are generated on the agent in the scope of a particular build job prior to it starting. An example of this is `Build.SourcesDirectory`.

## System Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    System.TeamProject
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_TEAMPROJECT
                </p>
            </td>
            <td>
                <p>
                    The name of the team project that this build belongs to
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.TeamFoundationServerUri
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_TEAMFOUNDATIONSERVERURI
                </p>
            </td>
            <td>
                <p>
                    The URL of the team foundation server
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.TeamFoundationCollectionUri
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_TEAMFOUNDATIONCOLLECTIONURI
                </p>
            </td>
            <td>
                <p>
                    The URL of the team foundation collection
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.CollectionId
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_COLLECTIONID
                </p>
            </td>
            <td>
                <p>
                    The guid id of the team foundation collection
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.DefaultWorkingDirectory
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_DEFAULTWORKINGDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The default working directory for this job.  In Build this is `Build.SourcesDirectory`. In Release this is `Release.ArtifactsDirectory`
                </p>
            </td>
        </tr>
    </tbody>
</table>

## Global Build Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    Build.DefinitionName
                </p>
            </td>
            <td>
                <p>
                    BUILD_DEFINITIONNAME
                </p>
            </td>
            <td>
                <p>
                    The name of the Build Definition the current build belongs to
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.DefinitionVersion
                </p>
            </td>
            <td>
                <p>
                    BUILD_DEFINITIONVERSION
                </p>
            </td>
            <td>
                <p>
                    The version of the Build Definition the current build belongs to
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.BuildNumber
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDNUMBER
                </p>
            </td>
            <td>
                <p>
                    The build number assigned to the build by TFS using the build number format specified.
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.BuildUri
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDURI
                </p>
            </td>
            <td>
                <p>
                    The Uri for the build
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.BuildId
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDID
                </p>
            </td>
            <td>
                <p>
                    The Id of the build record
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.QueuedBy
                </p>
            </td>
            <td>
                <p>
                    BUILD_QUEUEDBY
                </p>
            </td>
            <td>
                <p>
                    The identity of the user who queued the build.
                </p>
                <ul>
                    <li>In the case of CI and Scheduled this will simply be the system identity</li>
                    <li>For manual this will be the identity of the user who queued the build</li>
                    <li>For external triggers it will be the identity used to authenticate to the service</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.QueuedById
                </p>
            </td>
            <td>
                <p>
                    BUILD_QUEUEDBYID
                </p>
            </td>
            <td>
                <p>
                    The giud id of the user who queued the build.
                </p>
                <ul>
                    <li>In the case of CI and Scheduled this will simply be the system identity</li>
                    <li>For manual this will be the identity of the user who queued the build</li>
                    <li>For external triggers it will be the identity used to authenticate to the service</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.RequestedFor
                </p>
            </td>
            <td>
                <p>
                    BUILD_REQUESTEDFOR
                </p>
            </td>
            <td>
                <p>
                    This user the build was requested for. In a CI build this will be the user who performed the check-in that triggered the build.
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.RequestedForId
                </p>
            </td>
            <td>
                <p>
                    BUILD_REQUESTEDFORID
                </p>
            </td>
            <td>
                <p>
                    This guid id of the user the build was requested for. In a CI build this will be the user who performed the check-in that triggered the build.
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.SourceVersion
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCEVERSION
                </p>
            </td>
            <td>
                <p>
                    The latest version control change that is included in this build. This will be version control specific based on the provider. For Git this will the commit ID and for Tfvc this will be the change set number in the format CS1234.
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.SourceBranch
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCEBRANCH
                </p>
            </td>
            <td>
                <p>
                    The branch the build was queued for.
                </p>
                <ul>
                    <li>For Git this is the name of the branch in the formation `refs/heads/master`.</li>
                    <li>For Tfvc this will be the root server path for the workspace. `$/teamproject/branch`</li>
                </ul>
            </td>
        </tr>
                <tr>
            <td>
                <p>
                    Build.SourceBranchName
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCEBRANCHNAME
                </p>
            </td>
            <td>
                <p>
                    The name of the branch the build was queued for.
                </p>
                <ul>
                    <li>For Git this is the last path segment in the ref. For example in `refs/heads/master` the name is `master`.</li>
                    <li>For Tfvc this will last path segment in the root server path for the workspace. For example in `$/teamproject/branch` the name is `branch`</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Name
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_NAME
                </p>
            </td>
            <td>
                <p>
                    The name of the repository in the build. By default this is the name of the Git repository or the name of the team project in the case of Tfvc.
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Provider
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_PROVIDER
                </p>
            </td>
            <td>
                <p>
                    The name of the source provider for the build
                </p>
                <ul>
                    <li>TfGit - Git repository hosted in the TFS server</li>
                    <li>Tfvc - Team Foundation Version Control</li>
                    <li>Git - Git repository hosted on an external server</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Clean
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_CLEAN
                </p>
            </td>
            <td>
                <p>
                    Whether or not to perform an incremental update of the local copy of the sources. In the case of Git we will delete the checkout files always and only delete the .git folder if this is set to true
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Uri
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_URI
                </p>
            </td>
            <td>
                <p>
                    The URL for the repository synced for this build
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Tfvc.Workspace
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_TFVC_WORKSPACE
                </p>
            </td>
            <td>
                <p>
                    The name of the workspace created for the build.This is only valid for Tfvc.
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Tfvc.Shelveset
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_TFVC_SHELVESET
                </p>
            </td>
            <td>
                <p>
                    The name of the shelveset to include in this build. This is used for buddy build and code review validation scnarios
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Git.SubmoduleCheckout
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_GIT_SUBMODULECHECKOUT
                </p>
            </td>
            <td>
                <p>
                    Whether or not to checkout submodules.
                </p>
            </td>
        </tr>
    </tbody>
</table>


#### Agent Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    Agent.Name
                </p>
            </td>
            <td>
                <p>
                    AGENT_NAME
                </p>
            </td>
            <td>
                <p>
                    The name of the agent as it is registered with the pool. This is likely different than the machine name
                </p>
            </td>
        </tr>
         <tr>
            <td>
                <p>
                    Agent.Id
                </p>
            </td>
            <td>
                <p>
                    AGENT_ID
                </p>
            </td>
            <td>
                <p>
                    The ID of the agent.  
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.HomeDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_HOMEDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The directory the agent is installed into. This contains the agent bits
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.RootDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_ROOTDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The root directory for this agent to sync source. By default it is the same as `Agent.HomeDirectory`
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.WorkFolder
                </p>
            </td>
            <td>
                <p>
                    AGENT_WorkFolder
                </p>
            </td>
            <td>
                <p>
                    The working directory for this agent. By default `$(Agent.RootDirectory)\_work`.
                </p>
            </td>
        </tr>
    </tbody>
</table>


## Agent Build Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    Build.Repository.LocalPath
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_LOCALPATH
                </p>
            </td>
            <td>
                <p>
                    The local path on the agent where the sources are syncd to. Will be `$(Agent.BuildDirectory)\$(Build.Repository.Name)`
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.SourcesDirectory
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCESDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The folder where all sources for the build definition are synced to.Will be `$(Agent.BuildDirectory)\$(Build.Repository.Name)`
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.ArtifactsStagingDirecotry
                </p>
            </td>
            <td>
                <p>
                    BUILD_ARTIFACTSTAGINGDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The local path on the agent where any artifacts are copied to before being pushed to their destination, it will be cleaned up after the files of been copied to the destination. Will be `$(Agent.BuildDirectory)\Artifacts`
                </p>
            </td>
        </tr>
                <tr>
            <td>
                <p>
                    Build.StagingDirecotry
                </p>
            </td>
            <td>
                <p>
                    BUILD_STAGINGDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    Wellknown directory on disk where you can place build outputs or other temporary data, it will be cleand up between builds. It is `$(Agent.BuildDirectory)\Staging`
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.BuildDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_BUILDDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The local path on the agent where all folders for a given build definition are created. Will be $(Agent.RootDirectory\hash of collection of definitionid and repository URL
                </p>
            </td>
        </tr>
    </tbody>
</table>